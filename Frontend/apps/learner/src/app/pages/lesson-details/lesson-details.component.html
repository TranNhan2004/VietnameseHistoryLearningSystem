<div
  #container
  (scroll)="onScroll()"
  class="relative h-[400px] overflow-y-auto scroll-smooth py-5"
>
  <!-- Overlay mờ trên và dưới -->
  <div
    class="pointer-events-none absolute top-0 left-0 right-0 h-12 bg-gradient-to-b from-white to-transparent z-10"
  ></div>
  <div
    class="pointer-events-none absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-white to-transparent z-10"
  ></div>

  <!-- Nội dung bài học -->
  <div
    *ngFor="let item of lessonContents; let i = index"
    #contentPart
    [ngClass]="{
      'filter-none opacity-100 font-semibold': i === focusedIndex,
      'blur-sm opacity-50': i !== focusedIndex
    }"
    class="px-4 mb-6 transition-all duration-300"
  >
    <ng-container [ngSwitch]="item.type">
      <p *ngSwitchCase="'paragraph'" class="text-base leading-relaxed">
        {{ item.data.text }}
      </p>
      <img
        *ngSwitchCase="'image'"
        [src]="item.data.url"
        [alt]="item.data.alt || 'Image'"
        class="max-w-full h-auto rounded shadow-md"
      />
    </ng-container>
  </div>
</div>

<div
  class="h-2 bg-gray-200 rounded-full overflow-hidden mt-3 mx-4"
  aria-label="Progress bar"
>
  <div
    class="h-full bg-blue-600 transition-all duration-300"
    [style.width.%]="progressPercent"
  ></div>
</div>
