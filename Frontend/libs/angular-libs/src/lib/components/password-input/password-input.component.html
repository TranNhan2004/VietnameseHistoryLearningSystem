<div class="relative w-full" [class]="containerClass" [ngClass]="containerNgClass">
  @if (!isVisible) {
    <input
      type="password"
      [id]="inputId"
      [placeholder]="inputPlaceholder"
      [readonly]="inputReadonly"
      [disabled]="inputDisabled"
      [value]="inputValue"
      [class]="inputClass"
      [ngClass]="inputNgClass"
      (input)="onInput($event)"
      (blur)="onTouched()"
    />
  } @else {
    <input
      type="text"
      [id]="inputId"
      [placeholder]="inputPlaceholder"
      [readonly]="inputReadonly"
      [disabled]="inputDisabled"
      [value]="inputValue"
      [class]="inputClass"
      [ngClass]="inputNgClass"
      (input)="onInput($event)"
      (blur)="onTouched()"
    />
  }
  @if (!inputDisabled && !inputReadonly) {
    <button
      type="button"
      (click)="toggleVisibility()"
      [class]="'absolute top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none z-50 ' + visibilityClass"
      [ngClass]="visibilityNgClass"
    >
      <ng-icon
        [name]="isVisible ? 'matVisibilityOffRound' : 'matVisibilityRound'"
        class="mt-2"
        size="20"
      />
    </button>
  }
</div>

